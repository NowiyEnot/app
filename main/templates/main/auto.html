{% extends 'main/base.html' %}  
{% load static %}

{%block css_reg%} 
    <link rel="stylesheet" href="{% static 'css/reg.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/auto.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="icon" href="{% static 'img/favicon.svg' %}">

{%endblock%}

{% block content %}
    <div class="body">
        {% if messages %}
        <ul class="errorlist">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        <div class="ramka">
            <span class="borderLine"></span>
            <form action="{% url 'login' %}" method="post">
                {% csrf_token %}

                <h2>Авторизация</h2>
                <div class="input-ramka">
                    <input type="text" name="email" value="{{ email }}"required>
                    <span>Почта</span>
                    <i></i>
                </div>
                <div class="input-ramka">
                    <input type="password" name="password" value="{{ password }}" required>
                    <span>Пароль</span>
                    <i></i>
                </div>
                <div class="password-check"><input type="checkbox" id="showPassword" name="password2">
                    <label for="showPassword">Показать пароль</label>
                </div>
                <div class="links">
                    <a href="{% url 'password_reset' %}" id="forgot">Забыл пароль?</a>
                    <a href="{% url 'registration' %}" id="forgot">Регистрация</a>
                </div>
                <input type="submit" name="login" class="btns">
            </form>
        </div>
    </div>
    <script src="{% static 'js/main.js' %}"></script>
     <script>
            document.addEventListener('DOMContentLoaded', function() {
        // Находим чекбокс "Показать пароль" и поле для ввода пароля
        let showPasswordCheckbox = document.getElementById('showPassword');
        let passwordInput = document.querySelector('input[name="password"]');

        // Добавляем обработчик события change к чекбоксу
        showPasswordCheckbox.addEventListener('change', function() {
            // Если чекбокс отмечен, меняем тип поля на "text", иначе - на "password"
            if (this.checked) {
                passwordInput.type = 'text';
            } else {
                passwordInput.type = 'password';
            }
        });
    });
     </script>
{% endblock %}